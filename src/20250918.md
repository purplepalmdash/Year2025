# 20250918
### 1. win7 sound testing
Add following:     

```
  <qemu:commandline>
+    <qemu:env name='QEMU_AUDIO_DRV' value='pa'/>
+    <qemu:env name='QEMU_PA_SERVER' value='/run/user/1000/pulse/native'/>
  </qemu:commandline>
```
Then sound will be ok under idv.   
### 2. kvm internal error
Cannot re-produce.    
### 3. claude router+gemini
Steps:    

```
curl -fsSL https://deb.nodesource.com/setup_lts.x| sudo bash -
sudo apt install -y nodejs
node --version
v22.19.0
sudo npm install -g @anthropic-ai/claude-code
 claude --version
1.0.117 (Claude Code)
sudo npm install -g @musistudio/claude-code-router
 ccr -v
claude-code-router version: 1.0.49

```
Test api key:     

```
curl "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent" \
  -H "x-goog-api-key: <YOUR_GEMINI_API_KEY>" \
  -H 'Content-Type: application/json' \
  -X POST \
  -d '{
    "contents": [
      {
        "parts": [
          {
            "text": "Explain how AI works in a few words"
          }
        ]
      }
    ]
  }'
```
Write the config.json :     

```
 cat ~/.claude-code-router/config.json 
{
    "APIKEY": "",
    "LOG": true,
    "API_TIMEOUT_MS": 600000,
    "NON_INTERACTIVE_MODE": false,
    "Providers": [
      {
        "name": "gemini",
        "api_base_url": "https://generativelanguage.googleapis.com/v1beta/models/",
        "api_key": "AI..........................",
        "models": [
          "gemini-2.5-pro"
        ] ,      "transformer": {
            "use": ["gemini"]
          }  
      }
    ],
    "Router": {
      "default": "gemini,gemini-2.5-pro",
      "background": "gemini,gemini-2.5-pro",
      "think": "gemini,gemini-2.5-pro",
      "longContext": "gemini,gemini-2.5-pro",
      "longContextThreshold": 60000,
      "webSearch": "gemini,gemini-2.5-pro"
    },

  }
$ ccr start
$ ccr code
```
