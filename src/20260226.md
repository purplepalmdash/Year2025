# 20260226
### 1. paddleocr installation
Start docker instance via:      

```
$ curl -fsSL https://nvidia.github.io/libnvidia-container/gpgkey | sudo gpg --dearmor -o /usr/share/keyrings/nvidia-container-toolkit-keyring.gpg \
  && curl -s -L https://nvidia.github.io/libnvidia-container/stable/deb/nvidia-container-toolkit.list | \
     sed 's#deb https://#deb [signed-by=/usr/share/keyrings/nvidia-container-toolkit-keyring.gpg] https://#g' | \
     sudo tee /etc/apt/sources.list.d/nvidia-container-toolkit.list
deb [signed-by=/usr/share/keyrings/nvidia-container-toolkit-keyring.gpg] https://nvidia.github.io/libnvidia-container/stable/deb/$(ARCH) /
#deb [signed-by=/usr/share/keyrings/nvidia-container-toolkit-keyring.gpg] https://nvidia.github.io/libnvidia-container/experimental/deb/$(ARCH) /
$ sudo apt update
$ sudo apt-get install -y nvidia-container-toolkit
$ sudo nvidia-ctk runtime configure --runtime=docker
$ sudo docker run --gpus device=0 --network host   -v $(pwd)/PaddleOCR-VL-1.5-0.9B:/model   ccr-2vdh3abv-pub.cnc.bj.baidubce.com/paddlepaddle/paddleocr-genai-vllm-server:latest-nvidia-gpu   paddleocr genai_server     --model_name PaddleOCR-VL-1.5-0.9B     --model_dir /model     --host 0.0.0.0 --port 8080 --backend vllm
```
Install pip items:      

```
python -m pip install paddlepaddle-gpu==3.2.1 -i https://www.paddlepaddle.org.cn/packages/stable/cu126/ --break-system-packages  && python -m pip install -U "paddleocr[doc-parser]" -i https://pypi.tuna.tsinghua.edu.cn/simple --break-system-packages
```
### 2. test paddleocr
Steps:      

```
from openai import OpenAI
from paddleocr import PaddleOCRVL

client = OpenAI(api_key="xx", base_url="http://localhost:8080/v1/")
print("models:", client.models.list().data)

pipeline = PaddleOCRVL(
    vl_rec_backend="vllm-server",
    vl_rec_server_url="http://localhost:8080/v1",
    vl_rec_model_name="PaddleOCR-VL-1.5-0.9B",  # PaddleOCR-VL-1.5-0.9B
)
output = pipeline.predict(
    "https://paddle-model-ecology.bj.bcebos.com/paddlex/imgs/demo_image/paddleocr_vl_demo.png"
)
for res in output:
    res.print()
    res.save_to_json(save_path="output")
    res.save_to_markdown(save_path="output")
$ python test.py
```
### 3. huggingface download
Via:      

```
export HF_ENDPOINT=https://hf-mirror.com
HF_ENDPOINT=https://hf-mirror.com huggingface-cli download PaddlePaddle/PaddleOCR-VL-1.5 --local-dir ./PaddleOCR-VL-1.5-0.9B
```


