# 20251113
### 1. gxde(debian13)
Step:    

```
test@gxde:~$ uname -a
Linux gxde 6.12.43+deb13-amd64 #1 SMP PREEMPT_DYNAMIC Debian 6.12.43-1 (2025-08-27) x86_64 GNU/Linux
test@gxde:~$ cat /etc/debian_version 
13.1

wget https://repo.gxde.top/gxde-os/lizhi/g/gxde-source/gxde-source_1.1.11_all.deb
sudo apt install ./gxde-source_1.1.11_all.deb 
sudo apt update
sudo apt-get install aptss
sudo apt-get install gxde-testing-source -y
sudo aptss update
sudo aptss install gxde-desktop gxde-desktop-extra -y
sudo reboot
```
Verification of bisheng:      


```
sudo dpkg --add-architecture i386
cd modified_bisheng/
sudo apt install ./*.deb
sudo chown root:root /usr/lib/cups/filter/gstobmp 
sudo chown -R root /usr/lib/cups/filter/
```
bisheng could be worked properly on debian13.    

### 2. redroid on fedora
Install docker-ce:      

```
sudo dnf remove docker \
                  docker-client \
                  docker-client-latest \
                  docker-common \
                  docker-latest \
                  docker-latest-logrotate \
                  docker-logrotate \
                  docker-selinux \
                  docker-engine-selinux \
                  docker-engine
sudo dnf -y install dnf-plugins-core
sudo dnf-3 config-manager --add-repo https://download.docker.com/linux/fedora/docker-ce.repo
 sudo dnf install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
sudo systemctl enable --now docker
sudo su
grubby --update-kernel ALL --args selinux=0
grub2-mkconfig > /boot/grub2/grub.cfg
reboot
```
After booted:      

```
$ sudo lsmod | grep nfnet
nfnetlink              20480  5 nft_compat,nf_tables,ip_set
test@fedora:~$ sudo docker run -itd --rm --privileged \
    --pull always \
    -v ~/data11:/data \
    -p 5555:5555 \
    --name redroid12 redroid/redroid:12.0.0-latest
```



### 3. lxcfs/docker limitation
Install lxcfs:     

```
sudo yum install -y lxcfs
```
创建一个覆盖文件来修改服务:    

```
sudo systemctl edit lxcfs.service
```
在打开的编辑器里，粘贴以下内容。这会告诉 lxcfs 启动时带上`--enable-cfs`参数:    

```
[Service]
ExecStart=
ExecStart=/usr/bin/lxcfs --enable-cfs /var/lib/lxcfs
```
注意:   
`ExecStart=`是必须的，它会清除旧的启动命令。    
`ExecStart=/usr/bin/lxcfs ... `是新的启动命令，加入了` --enable-cfs`    

保存并退出编辑器。重新加载 systemd 并重启 lxcfs 服务：

```
sudo systemctl daemon-reload
sudo systemctl restart lxcfs
```



Test:     

分别创建一个使用lxcfs加持的redroid容器实例以及不使用lxcfs加持的redroid实例:       

```
# 转发到5556端口, 注意-v后添加的lxcfs目录:   
sudo docker run -itd --privileged     -v ~/data12Limit:/data     -p 5556:5555     --name redroid12limit --memory="8192m" --cpus="4" -v /var/lib/lxcfs/proc/meminfo:/proc/meminfo:ro   -v /var/lib/lxcfs/proc/cpuinfo:/proc/cpuinfo:ro   -v /var/lib/lxcfs/proc/stat:/proc/stat:ro   -v /var/lib/lxcfs/proc/uptime:/proc/uptime:ro redroid/redroid:12.0.0-latest androidboot.redroid_width=1080     androidboot.redroid_height=1920     androidboot.redroid_dpi=480 androidboot.redroid_gpu_mode=host androidboot.redroid_gpu_node=/dev/dri/renderD128  androidboot.redroid_fps=120
# 转发到5557端口，注意这里没有映射任何lxcfs到容器中
sudo docker run -itd --privileged     -v ~/data12LimitNOLXC:/data -p 5557:5555 --name redroid12limit_no_lxcfs --memory="8192m" --cpus="4" redroid/redroid:12.0.0-latest androidboot.redroid_width=1080     androidboot.redroid_height=1920     androidboot.redroid_dpi=480 androidboot.redroid_gpu_mode=host androidboot.redroid_gpu_node=/dev/dri/renderD128  androidboot.redroid_fps=120
```
外部使用adb/scrcpy进行测试,测试软件为鲁大师:     

```
dash@ai:~$ adb connect 10.0.0.176:5556
connected to 10.0.0.176:5556
dash@ai:~$ adb connect 10.0.0.176:5557
connected to 10.0.0.176:5557
dash@ai:~$ adb -s 10.0.0.176:5556 install ludashi_home.apk 
Performing Streamed Install
Success
dash@ai:~$ adb -s 10.0.0.176:5557 install ludashi_home.apk 
Performing Streamed Install
Success
```

### 4. netdata
Install on fedora:      

```
wget -O /tmp/netdata-kickstart.sh https://get.netdata.cloud/kickstart.sh && sh /tmp/netdata-kickstart.sh --nightly-channel
```
Result:     

| 配置 | 单核分 | 多核跑分 |
| ----------- | ----------- | ------ | 
| 无限制 | 671| 1856 |
| 4核8G(lxcfs) | 747| 1477 |
| 4核8G(无lxcfs) | 689| 1409 |
